(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},68:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),s=n(26),r=n.n(s),o=n(29),i=n(3),l=n(9),j=n(27),u=(n(36),n(1));function b(e){var t=e.state,n=void 0===t?"":t,c=e.onChange,a=void 0===c?function(){}:c;return Object(u.jsxs)("div",{className:"search-box",children:[Object(u.jsx)("input",{type:"text",placeholder:"Buscar",value:n,onChange:a}),Object(u.jsx)(j.a,{className:"search",size:"1.8rem"})]})}n(38);var d=n(10);function h(e){var t=e.label,n=void 0===t?"Procurar somente por tags":t,c=e.state,a=void 0!==c&&c,s=e.onClick,r=void 0===s?function(){}:s;return Object(u.jsxs)("div",{className:"option-checkbox",onClick:r,children:[Object(u.jsx)("div",{className:"input-box",children:a&&Object(u.jsx)(d.a,{className:"check",size:"1.8rem"})}),Object(u.jsx)("span",{className:"label",children:n})]})}n(39);function O(e){var t=e.onClick,n=void 0===t?function(){}:t;return Object(u.jsxs)("button",{className:"add-button",onClick:n,children:[Object(u.jsx)(d.b,{className:"plus",size:"1.5rem"}),Object(u.jsx)("span",{children:"Adicionar"})]})}n(40);function x(e){var t=e.onSearchByTagClick,n=e.searchByTagOnly,c=e.onSearchStringChange,a=e.searchString,s=e.onRegister;return Object(u.jsxs)("form",{className:"list-controls",onClick:function(e){return e.preventDefault()},children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)(b,{onChange:c,state:a}),Object(u.jsx)(h,{onClick:t,state:n})]}),Object(u.jsx)("div",{className:"right",children:Object(u.jsx)(O,{onClick:s})})]})}n(41);function m(e){var t=e.book,n=void 0===t?{}:t,c=e.onDelete,a=void 0===c?function(){}:c;return Object(u.jsxs)("div",{className:"book-card",children:[Object(u.jsxs)("div",{className:"top",children:[Object(u.jsxs)("div",{className:"left",children:[Object(u.jsx)("h1",{children:n.title||""}),Object(u.jsxs)("div",{className:"details",children:[Object(u.jsx)("span",{className:"author",children:n.author||""}),Object(u.jsx)("span",{className:"author-page-separator",children:"-"}),Object(u.jsxs)("span",{className:"pages",children:[n.pages||0," p\xe1ginas"]})]})]}),Object(u.jsx)("div",{className:"right",children:Object(u.jsx)("button",{onClick:function(){return a(n.id)},children:"remover"})})]}),Object(u.jsx)("div",{className:"description",children:'"'.concat(n.description||"",'"')}),Object(u.jsx)("ul",{className:"tags",children:n.tags&&Array.isArray(n.tags)&&n.tags.map((function(e){return Object(u.jsxs)("li",{children:["#",e]},e)}))})]})}n(42);function f(e){var t=e.onRegister,n=void 0===t?function(){}:t,a=e.onCancel,s=void 0===a?function(){}:a,r=Object(c.useState)(""),o=Object(l.a)(r,2),i=o[0],j=o[1],b=Object(c.useState)(""),h=Object(l.a)(b,2),O=h[0],x=h[1],m=Object(c.useState)(""),f=Object(l.a)(m,2),p=f[0],g=f[1],v=Object(c.useState)(1),k=Object(l.a)(v,2),N=k[0],C=k[1],S=Object(c.useState)(""),y=Object(l.a)(S,2),I=y[0],A=y[1];return Object(u.jsx)("div",{className:"book-register-modal",onClick:function(e){"book-register-modal"===e.target.className&&(console.log("cancel modal"),s())},children:Object(u.jsxs)("form",{onSubmit:function(){var e={title:i,author:O,description:p,pages:N,tags:I.split(/\s/).filter((function(e){return e}))};n(e)},children:[Object(u.jsxs)("header",{children:[Object(u.jsx)(d.b,{className:"plus",size:"1.8rem"}),Object(u.jsx)("span",{children:"Adicionar novo livro"})]}),Object(u.jsxs)("section",{className:"fields",children:[Object(u.jsx)("label",{htmlFor:"title",children:"T\xedtulo do livro"}),Object(u.jsx)("input",{tabIndex:"1",id:"title",type:"text",name:"title",onChange:function(e){return j(e.target.value)},value:i,required:!0}),Object(u.jsx)("label",{htmlFor:"author",children:"Autor"}),Object(u.jsx)("input",{tabIndex:"2",id:"author",type:"text",name:"author",onChange:function(e){return x(e.target.value)},value:O,required:!0}),Object(u.jsx)("label",{htmlFor:"description",children:"Descri\xe7\xe3o"}),Object(u.jsx)("input",{tabIndex:"3",id:"description",type:"text",name:"description",onChange:function(e){return g(e.target.value)},value:p,required:!0}),Object(u.jsx)("label",{htmlFor:"pages",children:"P\xe1ginas"}),Object(u.jsx)("input",{tabIndex:"4",id:"pages",type:"number",min:"1",max:"10000",name:"pages",onChange:function(e){return C(e.target.value)},value:N,required:!0}),Object(u.jsx)("label",{htmlFor:"tags",children:"tags"}),Object(u.jsx)("input",{tabIndex:"5",id:"tags",type:"text",name:"tags",onChange:function(e){return A(e.target.value)},value:I})]}),Object(u.jsxs)("footer",{children:[Object(u.jsx)("div",{className:"modal-button",tabIndex:"7",onClick:function(e){console.log("cancel clicked"),s()},children:"Cancelar"}),Object(u.jsxs)("button",{className:"modal-button",tabIndex:"6",children:[Object(u.jsx)(d.b,{className:"plus",size:"1.5rem"}),Object(u.jsx)("span",{children:"Adicionar"})]})]})]})})}var p=n(28),g=n.n(p).a.create({baseURL:"https://picode-mlpr.herokuapp.com"});n(61);function v(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(l.a)(s,2),o=r[0],i=r[1],j=Object(c.useState)(""),b=Object(l.a)(j,2),d=b[0],h=b[1],O=Object(c.useState)(!1),p=Object(l.a)(O,2),v=p[0],k=p[1];function N(e){var t=o?"books?tag=".concat(d):"books?search=".concat(d);g.delete("books/".concat(e)).then((function(){return g.get(t)})).then((function(e){return a(e.data)})).catch(console.error.bind(console))}return Object(c.useEffect)((function(){var e=o?"books?tag=".concat(d):"books?search=".concat(d);g.get(e).then((function(e){return a(e.data)})).catch(console.error.bind(console))}),[a,d,o]),Object(c.useEffect)((function(){document.body.setAttribute("data-overflow",v?"hidden":"")}),[v]),Object(u.jsxs)("div",{className:"home",children:[Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("h1",{children:"MLPR"}),Object(u.jsx)("h2",{children:"Melhores livros para relembrar"}),Object(u.jsx)(x,{onSearchByTagClick:function(){i(!o)},searchByTagOnly:o,onSearchStringChange:function(e){h(e.target.value)},searchString:d,onRegister:function(){k(!0)}}),Object(u.jsx)("div",{className:"cards-container",children:n.map((function(e){return Object(u.jsx)(m,{book:e,onDelete:N},e.title)}))})]}),v&&Object(u.jsx)(f,{onCancel:function(){k(!1)},onRegister:function(e){var t=o?"books?tag=".concat(d):"books?search=".concat(d);g.post("books",e,{headers:{"Content-Type":"application/json"}}).then((function(){return g.get(t)})).then((function(e){return a(e.data)})).then((function(){return k(!1)})).catch(console.error.bind(console))}})]})}n(62);function k(){return Object(u.jsx)(o.a,{basename:"/",children:Object(u.jsx)(i.c,{children:Object(u.jsx)(i.a,{exact:!0,path:"/",children:Object(u.jsx)(v,{})})})})}r.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(k,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.ca9c1391.chunk.js.map