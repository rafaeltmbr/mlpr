{"version":3,"sources":["components/SearchBox/index.js","components/OptionCheckbox/index.js","components/AddButton/index.js","components/ListControls/index.js","components/BookCard/index.js","components/BookRegisterModal/index.js","components/DeleteModal/index.js","api.js","pages/Home/index.js","App.js","index.js"],"names":["SearchBox","state","onChange","className","type","placeholder","value","size","OptionCheckbox","label","onClick","AddButton","ListControls","onSearchByTagClick","searchByTagOnly","onSearchStringChange","searchString","onRegister","e","preventDefault","BookCard","book","onDelete","title","author","pages","id","description","tags","Array","isArray","map","tag","BookRegisterModal","onCancel","useState","setTitle","setAuthor","setDescription","setPages","setTags","target","onSubmit","newBook","split","filter","htmlFor","tabIndex","name","required","min","max","console","log","DeleteModal","onConfirm","axios","create","baseURL","Home","books","setBook","setSearchByTagOnly","setSearchString","showRegisterModal","setShowRegisterModal","bookIdToDelete","setBookIdToDelete","handleBookDelete","useEffect","request","api","get","then","res","data","catch","error","bind","document","body","setAttribute","post","headers","delete","App","basename","exact","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.89d4ea88.chunk.js","sourcesContent":["import React from \"react\";\n\nimport { IoIosSearch as Search } from \"react-icons/io\";\n\nimport \"./styles.sass\";\n\nexport default function SearchBox({ state = \"\", onChange = () => {} }) {\n  return (\n    <div className=\"search-box\">\n      <input type=\"text\" placeholder=\"Buscar\" value={state} onChange={onChange} />\n      <Search className=\"search\" size=\"1.8rem\" />\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport \"./styles.sass\";\nimport { AiOutlineCheck as Check } from \"react-icons/ai\";\n\nexport default function OptionCheckbox({\n  label = \"Procurar somente por tags\",\n  state = false,\n  onClick = () => {},\n}) {\n  return (\n    <div className=\"option-checkbox\" onClick={onClick}>\n      <div className=\"input-box\">{state && <Check className=\"check\" size=\"1.8rem\" />}</div>\n      <span className=\"label\">{label}</span>\n    </div>\n  );\n}\n","import React from \"react\";\nimport { AiOutlinePlus as Plus } from \"react-icons/ai\";\n\nimport \"./styles.sass\";\n\nexport default function AddButton({ onClick = () => {} }) {\n  return (\n    <button className=\"add-button\" onClick={onClick}>\n      <Plus className=\"plus\" size=\"1.5rem\" />\n      <span>Adicionar</span>\n    </button>\n  );\n}\n","import React from \"react\";\n\nimport SearchBox from \"../SearchBox\";\nimport OptionCheckbox from \"../OptionCheckbox\";\nimport AddButton from \"../AddButton\";\nimport \"./styles.sass\";\n\nexport default function ListControls({\n  onSearchByTagClick,\n  searchByTagOnly,\n  onSearchStringChange,\n  searchString,\n  onRegister,\n}) {\n  return (\n    <form className=\"list-controls\" onClick={(e) => e.preventDefault()}>\n      <div className=\"left\">\n        <SearchBox onChange={onSearchStringChange} state={searchString} />\n        <OptionCheckbox onClick={onSearchByTagClick} state={searchByTagOnly} />\n      </div>\n      <div className=\"right\">\n        <AddButton onClick={onRegister} />\n      </div>\n    </form>\n  );\n}\n","import React from \"react\";\n\nimport \"./styles.sass\";\n\nexport default function BookCard({ book = {}, onDelete = () => {} }) {\n  return (\n    <div className=\"book-card\">\n      <div className=\"top\">\n        <div className=\"left\">\n          <h1>{book.title || \"\"}</h1>\n          <div className=\"details\">\n            <span className=\"author\">{book.author || \"\"}</span>\n            <span className=\"author-page-separator\">-</span>\n            <span className=\"pages\">{book.pages || 0} páginas</span>\n          </div>\n        </div>\n        <div className=\"right\">\n          <button onClick={() => onDelete(book.id)}>remover</button>\n        </div>\n      </div>\n      <div className=\"description\">{`\"${book.description || \"\"}\"`}</div>\n      <ul className=\"tags\">\n        {book.tags && Array.isArray(book.tags) && book.tags.map((tag) => <li key={tag}>#{tag}</li>)}\n      </ul>\n    </div>\n  );\n}\n","import React, { useState } from \"react\";\nimport { AiOutlinePlus as Plus } from \"react-icons/ai\";\n\nimport \"./styles.sass\";\n\nexport default function BookRegisterModal({ onRegister = () => {}, onCancel = () => {} }) {\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [pages, setPages] = useState(1);\n  const [tags, setTags] = useState(\"\");\n\n  function handleFormSubmit(e) {\n    e.preventDefault();\n\n    const newBook = {\n      title,\n      author,\n      description,\n      pages,\n      tags: tags.split(/\\s/).filter((e) => e),\n    };\n\n    onRegister(newBook);\n  }\n\n  function handleModalClick(e) {\n    if (e.target.className === \"book-register-modal\") onCancel();\n  }\n\n  return (\n    <div className=\"book-register-modal\" onClick={handleModalClick}>\n      <form onSubmit={handleFormSubmit}>\n        <header>\n          <Plus className=\"plus\" size=\"1.8rem\" />\n          <span>Adicionar novo livro</span>\n        </header>\n        <section className=\"fields\">\n          <label htmlFor=\"title\">Título do livro</label>\n          <input\n            tabIndex=\"1\"\n            id=\"title\"\n            type=\"text\"\n            name=\"title\"\n            onChange={(e) => setTitle(e.target.value)}\n            value={title}\n            required\n          />\n\n          <label htmlFor=\"author\">Autor</label>\n          <input\n            tabIndex=\"2\"\n            id=\"author\"\n            type=\"text\"\n            name=\"author\"\n            onChange={(e) => setAuthor(e.target.value)}\n            value={author}\n            required\n          />\n\n          <label htmlFor=\"description\">Descrição</label>\n          <input\n            tabIndex=\"3\"\n            id=\"description\"\n            type=\"text\"\n            name=\"description\"\n            onChange={(e) => setDescription(e.target.value)}\n            value={description}\n            required\n          />\n\n          <label htmlFor=\"pages\">Páginas</label>\n          <input\n            tabIndex=\"4\"\n            id=\"pages\"\n            type=\"number\"\n            min=\"1\"\n            max=\"10000\"\n            name=\"pages\"\n            onChange={(e) => setPages(e.target.value)}\n            value={pages}\n            required\n          />\n\n          <label htmlFor=\"tags\">tags</label>\n          <input\n            tabIndex=\"5\"\n            id=\"tags\"\n            type=\"text\"\n            name=\"tags\"\n            onChange={(e) => setTags(e.target.value)}\n            value={tags}\n          />\n        </section>\n        <footer>\n          <div\n            className=\"modal-button\"\n            tabIndex=\"7\"\n            onClick={(e) => {\n              console.log(\"cancel clicked\");\n              onCancel();\n            }}\n          >\n            Cancelar\n          </div>\n          <button className=\"modal-button\" tabIndex=\"6\">\n            <Plus className=\"plus\" size=\"1.5rem\" />\n            <span>Adicionar</span>\n          </button>\n        </footer>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\n\nimport \"./styles.sass\";\n\nexport default function DeleteModal({ onCancel = () => {}, onConfirm = () => {} }) {\n  function handleModalClick(e) {\n    if (e.target.className === \"delete-modal\") onCancel();\n  }\n\n  return (\n    <div className=\"delete-modal\" onClick={handleModalClick}>\n      <div className=\"wrapper\">\n        <h1>Deseja realemente remover o livro?</h1>\n        <div>\n          <button onClick={onCancel}>Cancelar</button>\n          <button onClick={onConfirm}>Sim, remover</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\n\nconst axiosConfig = {\n  baseURL: \"https://picode-mlpr.herokuapp.com\",\n};\n\nexport default axios.create(axiosConfig);\n","import React, { useState, useEffect } from \"react\";\n\nimport ListControls from \"../../components/ListControls\";\nimport BookCard from \"../../components/BookCard\";\nimport BookRegisterModal from \"../../components/BookRegisterModal\";\nimport DeleteModal from \"../../components/DeleteModal\";\nimport api from \"../../api\";\n\nimport \"./styles.sass\";\n\nexport default function Home() {\n  const [books, setBook] = useState([]);\n  const [searchByTagOnly, setSearchByTagOnly] = useState(false);\n  const [searchString, setSearchString] = useState(\"\");\n  const [showRegisterModal, setShowRegisterModal] = useState(false);\n  const [bookIdToDelete, setBookIdToDelete] = useState(0);\n\n  useEffect(() => {\n    const request = searchByTagOnly ? `books?tag=${searchString}` : `books?search=${searchString}`;\n    api\n      .get(request)\n      .then((res) => setBook(res.data))\n      .catch(console.error.bind(console));\n  }, [setBook, searchString, searchByTagOnly]);\n\n  useEffect(() => {\n    document.body.setAttribute(\"data-overflow\", showRegisterModal ? \"hidden\" : \"\");\n  }, [showRegisterModal]);\n\n  function handleSearchByTagClick() {\n    setSearchByTagOnly(!searchByTagOnly);\n  }\n\n  function handleSearchStringChange(e) {\n    setSearchString(e.target.value);\n  }\n\n  function handleBookDelete(id) {\n    setBookIdToDelete(id);\n  }\n\n  function handleShowRegisterModal() {\n    setShowRegisterModal(true);\n  }\n\n  function handleBookRegister(newBook) {\n    const request = searchByTagOnly ? `books?tag=${searchString}` : `books?search=${searchString}`;\n    api\n      .post(\"books\", newBook, {\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n      .then(() => api.get(request))\n      .then((res) => setBook(res.data))\n      .then(() => setShowRegisterModal(false))\n      .catch(console.error.bind(console));\n  }\n\n  function handleHideRegisterModal() {\n    setShowRegisterModal(false);\n  }\n\n  function handleHideDeleteModal() {\n    setBookIdToDelete(0);\n  }\n\n  function handleBookDeleteConfirm() {\n    const request = searchByTagOnly ? `books?tag=${searchString}` : `books?search=${searchString}`;\n    api\n      .delete(`books/${bookIdToDelete}`)\n      .then(() => api.get(request))\n      .then((res) => setBook(res.data))\n      .then(() => setBookIdToDelete(0))\n      .catch(console.error.bind(console));\n  }\n\n  return (\n    <div className=\"home\">\n      <div className=\"container\">\n        <h1>MLPR</h1>\n        <h2>Melhores livros para relembrar</h2>\n        <ListControls\n          onSearchByTagClick={handleSearchByTagClick}\n          searchByTagOnly={searchByTagOnly}\n          onSearchStringChange={handleSearchStringChange}\n          searchString={searchString}\n          onRegister={handleShowRegisterModal}\n        />\n        <div className=\"cards-container\">\n          {books.map((book) => (\n            <BookCard key={book.title} book={book} onDelete={handleBookDelete} />\n          ))}\n        </div>\n      </div>\n      {showRegisterModal && (\n        <BookRegisterModal onCancel={handleHideRegisterModal} onRegister={handleBookRegister} />\n      )}\n      {bookIdToDelete ? (\n        <DeleteModal onCancel={handleHideDeleteModal} onConfirm={handleBookDeleteConfirm} />\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n}\n","import React from \"react\";\nimport { HashRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Home from \"./pages/Home\";\nimport \"./App.sass\";\n\nexport default function App() {\n  return (\n    <Router basename=\"/\">\n      <Switch>\n        <Route exact path=\"/\">\n          <Home />\n        </Route>\n      </Switch>\n    </Router>\n  );\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}